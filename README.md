# ğŸŒ¸ ComfyUI Flower Tools

é€™æ˜¯ä¸€çµ„å°ˆç‚º ComfyUI è¨­è¨ˆçš„å¯¦ç”¨å·¥å…·ç¯€é»ï¼Œå°ˆæ³¨æ–¼**æç¤ºè©ç®¡ç† (Prompt Management)** èˆ‡ **æª”æ¡ˆå‘½åç®¡ç† (File Naming)**ã€‚åŸæœ¬æ˜¯ç‚ºäº†å€‹äººéœ€æ±‚é–‹ç™¼ï¼Œç¾åœ¨æ•´ç†é–‹æºçµ¦ç¤¾ç¾¤ä½¿ç”¨ã€‚

é©åˆå°è±¡ï¼š
*   éœ€è¦å¤§é‡ç®¡ç† Wildcards æˆ–éš¨æ©Ÿæç¤ºè©çš„ä½¿ç”¨è€…ã€‚
*   éœ€è¦è‡ªå‹•åŒ–èˆ‡æ¨™æº–åŒ–è¼¸å‡ºæª”åã€è·¯å¾‘çš„ä½¿ç”¨è€…ã€‚
*   å–œæ­¡æ•´æ½”ã€ç›´è§€æ“ä½œä»‹é¢çš„ä½¿ç”¨è€…ã€‚

## ğŸ“¥ å®‰è£èªªæ˜ (Installation)

### æ–¹æ³• 1: ä½¿ç”¨ ComfyUI Manager (æ¨è–¦)
1.  é–‹å•Ÿ **ComfyUI Manager**ã€‚
2.  é»æ“Š **"Install via Git URL"**ã€‚
3.  è¼¸å…¥æœ¬å°ˆæ¡ˆç¶²å€: `https://github.com/weichenglin0215/comfyui-flower-tools`
4.  å®‰è£å®Œæˆå¾Œé‡å•Ÿ ComfyUIã€‚

### æ–¹æ³• 2: æ‰‹å‹•å®‰è£
1.  é€²å…¥æ‚¨çš„ ComfyUI `custom_nodes` ç›®éŒ„ã€‚
2.  åŸ·è¡Œ `git clone https://github.com/weichenglin0215/comfyui-flower-tools.git`
3.  é‡å•Ÿ ComfyUIã€‚

---

## ğŸ› ï¸ ç¯€é»ä»‹ç´¹ (Nodes)

### 1. ğŸŒ¸ Flower Multiline Prompt Selector (å¤šè¡Œæç¤ºè©é¸æ“‡å™¨)

é€™æ˜¯æœ¬å·¥å…·åŒ…çš„æ ¸å¿ƒç¯€é»ï¼Œç”¨æ–¼ç®¡ç†èˆ‡é¸æ“‡ Wildcards æª”æ¡ˆå…§å®¹ã€‚å®ƒæœƒè‡ªå‹•è®€å–æŒ‡å®šç›®éŒ„ä¸‹çš„ `.txt` æª”æ¡ˆï¼Œä¸¦ç”¢ç”Ÿç›´è§€çš„æŒ‰éˆ•ä»‹é¢ã€‚

**åŠŸèƒ½ç‰¹è‰²ï¼š**
*   **è‡ªå‹•è®€å–**: æŒ‡å®šç›®éŒ„è·¯å¾‘ï¼Œè‡ªå‹•åˆ—å‡ºæ‰€æœ‰ .txt æª”æ¡ˆã€‚
*   **ä¸‰ç¨®æ¨¡å¼**: é‡å°æ¯å€‹æª”æ¡ˆï¼Œå¯ç¨ç«‹è¨­å®šï¼š
    *   ğŸ² **Random**: éš¨æ©Ÿé¸å–ä¸€è¡Œã€‚
    *   ğŸ”¢ **Ordered**: ä¾åºé¸å–æ¯ä¸€è¡Œ (æ­é… Seed)ã€‚
    *   âœ… **Picked**: æ‰‹å‹•æŒ‡å®šå›ºå®šä½¿ç”¨æŸä¸€è¡Œã€‚
*   **è¦–è¦ºåŒ–ä»‹é¢**: æ¯å€‹æª”æ¡ˆéƒ½æœ‰ç¨ç«‹æŒ‰éˆ•ï¼Œé»æ“Šå³å¯é–‹å•Ÿè©³ç´°è¨­å®šè¦–çª—ã€‚
*   **é€£çºŒè™•ç† (Continuous Processing)**: å¯è¨­å®š "æ¯ N å¼µåœ–æ›ä¸€æ¬¡æç¤ºè©"ï¼Œé©åˆç”ŸæˆåŒä¸€å€‹æç¤ºè©çš„å¤šå¼µè®Šé«” (Variations)ã€‚

> [!TIP]
> **åœ–ç‰‡å»ºè­°**: è«‹æˆªä¸€å¼µæ­¤ç¯€é»å±•é–‹å¾Œçš„æ¨£å­ï¼Œé¡¯ç¤ºå‡ºå¤šå€‹æª”æ¡ˆæŒ‰éˆ• (å¦‚ clothing.txt, style.txt) ä»¥åŠå…¶ä¸­ä¸€å€‹æª”æ¡ˆè¢«é»é–‹å¾Œçš„å½ˆå‡ºè¦–çª— (Popup)ã€‚
> *(è«‹å°‡æˆªåœ–å‘½åç‚º `selector_demo.png` ä¸¦æ”¾å…¥ `images` è³‡æ–™å¤¾)*

---

### 2. ğŸŒ¸ Flower Keyword Replacer (é—œéµå­—æ›¿æ›å™¨)

ç°¡å–®æš´åŠ›çš„æ–‡å­—æ›¿æ›å·¥å…·ï¼Œé©åˆç”¨ä¾†å¾®èª¿æç¤ºè©æˆ–æ‰¹é‡æ¸¬è©¦ä¸åŒæ¦‚å¿µã€‚

**åŠŸèƒ½ç‰¹è‰²ï¼š**
*   **10 çµ„æ›¿æ›æ§½**: æ”¯æ´æœ€å¤š 10 çµ„ `Keyword` (é—œéµå­—) -> `Replacement` (æ›¿æ›å…§å®¹) çš„è¨­å®šã€‚
*   **å‹•æ…‹è¼¸å…¥**: å¯å°‡ä»»ä½•å­—ä¸²ç¯€é»é€£æ¥åˆ°è¼¸å…¥ç«¯ã€‚

**ä½¿ç”¨æƒ…å¢ƒï¼š**
*   å°‡æç¤ºè©æ¨¡æ¿ä¸­çš„ `[style]` æ›¿æ›æˆ `Cyberpunk`ã€‚
*   å°‡ `[color]` æ›¿æ›æˆ `Neon Blue`ã€‚

> [!TIP]
> **åœ–ç‰‡å»ºè­°**: è«‹æˆªä¸€å¼µæ­¤ç¯€é»çš„ä»‹é¢ï¼Œé¡¯ç¤º Main Text è¼¸å…¥äº†ä¸€æ®µåŒ…å« `subject` çš„æ–‡å­—ï¼Œä¸¦ä¸”åœ¨ä¸‹æ–¹ Keyword_1 è¨­å®š `subject`ï¼ŒReplacement_1 è¨­å®š `cat` çš„æ¨£å­ã€‚
> *(è«‹å°‡æˆªåœ–å‘½åç‚º `replacer_demo.png` ä¸¦æ”¾å…¥ `images` è³‡æ–™å¤¾)*

---

### 3. ğŸŒ¸ Flower List of Strings (å­—ä¸²æ¸…å–®çµ„åˆå™¨)

å°‡å¤šå€‹å­—ä¸²åˆä½µç‚ºä¸€å€‹é•·å­—ä¸²æˆ–åˆ—è¡¨ï¼Œé©åˆçµ„åˆå¤šå€‹æç¤ºè©ä¾†æºã€‚

**åŠŸèƒ½ç‰¹è‰²ï¼š**
*   **10 å€‹è¼¸å…¥æ§½**: æ”¯æ´ 10 å€‹å¤šè¡Œæ–‡å­—è¼¸å…¥ã€‚
*   **è‡ªè¨‚åˆ†éš”ç¬¦ (Delimiter)**: å¯è¨­å®šé€£æ¥å­—ä¸²æ™‚çš„ä¸­é–“ç¬¦è™Ÿ (å¦‚ `,` æˆ– `\n`)ã€‚
*   **é›™è¼¸å‡º**: åŒæ™‚è¼¸å‡º "åˆä½µå¾Œçš„å–®ä¸€å­—ä¸²" èˆ‡ "å­—ä¸²åˆ—è¡¨ (List)"ã€‚

> [!TIP]
> **åœ–ç‰‡å»ºè­°**: è«‹æˆªä¸€å¼µæ­¤ç¯€é»è¼¸å…¥äº† 3-4 å€‹ä¸åŒæç¤ºè©æ®µè½çš„æ¨£å­ã€‚
> *(è«‹å°‡æˆªåœ–å‘½åç‚º `list_demo.png` ä¸¦æ”¾å…¥ `images` è³‡æ–™å¤¾)*

---

### 4. ğŸŒ¸ Flower File Name Combination (æª”åçµ„åˆå¤§å¸«)

å°ˆç‚ºæ½”ç™–ä½¿ç”¨è€…è¨­è¨ˆçš„æª”åèˆ‡è·¯å¾‘ç”Ÿæˆå™¨ã€‚è§£æ±º ComfyUI é è¨­æª”åéæ–¼ç°¡å–®æˆ–æ··äº‚çš„å•é¡Œã€‚

**åŠŸèƒ½ç‰¹è‰²ï¼š**
*   **è®Šæ•¸ç³»çµ±**: æ”¯æ´ä½¿ç”¨ `%DATE%`, `%TIME%` ç­‰è®Šæ•¸è‡ªå‹•ç”¢ç”Ÿæ—¥æœŸæ™‚é–“ã€‚
*   **è·¯å¾‘/æª”ååŒæ­¥**: å‹¾é¸ `File name same as subfolder name` å¯è®“æª”åè‡ªå‹•è·Ÿéš¨è³‡æ–™å¤¾åç¨±ï¼Œçœå»é‡è¤‡è¼¸å…¥çš„éº»ç…©ã€‚
*   **éæ³•å­—å…ƒé˜²è­·**: è‡ªå‹•éæ¿¾ Windows/Linux æª”åä¸å…è¨±çš„ç¬¦è™Ÿ (å¦‚ `*`, `?`, `|`)ï¼Œé¿å…å­˜æª”å¤±æ•—ã€‚
*   **ç­†è¨˜åŠŸèƒ½ (Note)**: åº•éƒ¨é™„å¸¶ç­†è¨˜æ¬„ä½ï¼Œæ–¹ä¾¿ç´€éŒ„å¸¸ç”¨çš„æ ¼å¼åƒæ•¸ã€‚

**æ”¯æ´è®Šæ•¸ï¼š**
*   `%MainFolderName`: ä¸»ç›®éŒ„
*   `%SubFolderName`: å­ç›®éŒ„
*   `%FileName`: æª”å
*   `%Suffix`: å¾Œç¶´ (å¦‚ç‰ˆæœ¬è™Ÿ)
*   `%DATE`: æ—¥æœŸ (å¦‚ 2024-02-10)
*   `%TIME`: æ™‚é–“ (å¦‚ 12-30-59)

> [!TIP]
> **åœ–ç‰‡å»ºè­°**: è«‹æˆªä¸€å¼µæ­¤ç¯€é»çš„ä»‹é¢ï¼Œé¡¯ç¤ºå„å€‹æ¬„ä½å·²å¡«å…¥ç¯„ä¾‹è³‡æ–™ (å¦‚ `TestProject`, `Character_A`)ï¼Œä¸¦ä¸”å±•ç¤ºåº•éƒ¨çš„ Note æ¬„ä½ã€‚
> *(è«‹å°‡æˆªåœ–å‘½åç‚º `filename_demo.png` ä¸¦æ”¾å…¥ `images` è³‡æ–™å¤¾)*

---

## ğŸ“‚ ç›®éŒ„çµæ§‹ (Directory Structure)

æ‚¨çš„ Wildcards (æç¤ºè©æª”æ¡ˆ) é è¨­æ‡‰æ”¾åœ¨æœ¬æ’ä»¶ç›®éŒ„ä¸‹çš„ `wildcards` è³‡æ–™å¤¾ä¸­ï¼š

```
ComfyUI/
  â””â”€â”€ custom_nodes/
      â””â”€â”€ comfyui-flower-tools/
          â””â”€â”€ wildcards/
              â”œâ”€â”€ style.txt
              â”œâ”€â”€ clothing.txt
              â””â”€â”€ character.txt
```

æ‚¨ä¹Ÿå¯ä»¥åœ¨ Prompt Selector ç¯€é»çš„ `directory` æ¬„ä½è¼¸å…¥çµ•å°è·¯å¾‘ä¾†è®€å–å…¶ä»–ä½ç½®çš„æª”æ¡ˆã€‚

## ğŸ“œ æ›´æ–°æ—¥èªŒ (Changelog)

*   **2026-02-10**: æ–°å¢ `FileNameCombination` èˆ‡ `ListOfStrings` ç¯€é»ã€‚ä»‹é¢å…¨é¢ä¸­æ–‡åŒ–èˆ‡å„ªåŒ–ã€‚
*   **2026-02-02**: æ ¸å¿ƒåç¨±è®Šæ›´ç‚º `Flower Multiline Prompt Selector`ï¼Œå„ªåŒ–æ’åºé‚è¼¯ã€‚

---

*Made with â¤ï¸ by weichenglin0215*
